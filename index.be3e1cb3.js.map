{"mappings":"AAGA,SAASA,EAAmBC,EAAKC,GAE/BC,MADe,wDAA2BF,SAAWC,yDAElDE,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJ,MAAMC,EAAc,GAAGC,KAAKC,MAAMH,EAAKI,KAAKC,SAEtCC,EAAeN,EAAKO,QAAQ,GAAGC,YACrCC,QAAQC,IAAIV,EAAKO,QAAQ,GAAGC,aAC5B,MAKMA,EALiBF,EACpBK,MAAM,KACNC,KAAIC,GAAQA,EAAKC,OAAO,GAAGC,cAAgBF,EAAKG,MAAM,KACtDC,KAAK,KAE2BN,MAAM,KAAKK,MAAM,GAAGC,KAAK,KAEtDC,EAAOlB,EAAKmB,KACZC,EAAW,GAAGpB,EAAKI,KAAKgB,YAExBC,EAAO,IADmC,IAAlBrB,EAAKqB,KAAKC,OAAaC,QAAQ,UAGvDC,EAAkB,CACtBC,MAAO,CACLC,IAAK,qBACLC,MAAO,yBAETC,KAAM,CACJF,IAAK,sBACLC,MAAO,yBAETE,KAAM,CACJH,IAAK,sBACLC,MAAO,yBAETG,OAAQ,CACNJ,IAAK,wBACLC,MAAO,2BAETI,KAAM,CACJL,IAAK,sBACLC,MAAO,yBAETK,QAAS,CACPN,IAAK,qBACLC,MAAO,yBAIX,IAAIM,EAEJ,MAAMC,GAAQ,IAAIC,MAAOC,WACnB7B,EAAUP,EAAKO,QAAQ,GAAGH,KAI9B6B,EADET,EAAgBjB,GAEhB2B,GAAS,IAAMA,EAAQ,EACnBV,EAAgBjB,GAASoB,MACzBH,EAAgBjB,GAASmB,IAErBF,EAAgBQ,QAAQN,IAIe,MAA7CW,EAAuBC,SAASC,eACpC,0BAGIC,EAAc,IAAIL,KAClBM,EAAUD,EAAYE,mBAAmB,QAAS,CACtDD,QAAS,UAELE,EAAOH,EAAYI,cACnBC,EAAQL,EAAYE,mBAAmB,QAAS,CACpDG,MAAO,UAEHnB,EAAMc,EAAYE,mBAAmB,QAAS,CAClDhB,IAAK,YAGPW,EAAqBS,UAAY,6FAES7C,iHAGFO,yiBAGGU,mJAKiBe,WAAiBzB,8CAE7CiC,8CACAf,KAAOmB,KAASF,gNAM5BvB,0PAOEC,mHAIX,IAEZ0B,OAAMC,GAASvC,QAAQC,IAAIsC,I,CAsB1BC,UAAUC,YACZD,UAAUC,YAAYC,oBACpB,EAAGC,QAAQC,SAAEA,EAAQC,UAAEA,OACrB7D,EAAmB4D,EAAUC,EAAU,IAEzC,KAGE7D,EAFmB,YACA,WACuB,IAI9CgB,QAAQC,IAAI","sources":["src/js/weather.js"],"sourcesContent":["const API_KEY = `6e3e286b7ba6b78d37123d7ccd0b674f`;\nconst BASE_URL = `https://api.openweathermap.org/data/2.5/`;\n\nfunction getWeatherByCoords(lat, lon) {\n  const apiUrl = `${BASE_URL}/weather?lat=${lat}&lon=${lon}&units=metric&appid=${API_KEY}`;\n  fetch(apiUrl)\n    .then(response => response.json())\n    .then(data => {\n      const temperature = `${Math.floor(data.main.temp)}°`;\n\n      const weatherDescr = data.weather[0].description;\n      console.log(data.weather[0].description);\n      const newDescription = weatherDescr\n        .split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n        .join(' ');\n\n      const description = newDescription.split(' ').slice(1).join(' ');\n\n      const city = data.name;\n      const humidity = `${data.main.humidity}%`;\n      const windSpeedInKmPerHour = (data.wind.speed * 3.6).toFixed(0);\n      const wind = `${windSpeedInKmPerHour} km/h`;\n\n      const imagesByWeather = {\n        Clear: {\n          day: 'images/day_sun.png',\n          night: 'images/night_moon.png',\n        },\n        Rain: {\n          day: 'images/day_rain.png',\n          night: 'images/night_rain.png',\n        },\n        Snow: {\n          day: 'images/day_snow.png',\n          night: 'images/night_snow.png',\n        },\n        Clouds: {\n          day: 'images/day_clouds.png',\n          night: 'images/night_clouds.png',\n        },\n        Haze: {\n          day: 'images/day_haze.png',\n          night: 'images/night_haze.png',\n        },\n        default: {\n          day: 'images/day_404.png',\n          night: 'images/night_404.png',\n        },\n      };\n\n      let iconUrl;\n\n      const hours = new Date().getHours();\n      const weather = data.weather[0].main;\n\n      // выбираем изображение в зависимости от погоды и времени суток\n      if (imagesByWeather[weather]) {\n        iconUrl =\n          hours >= 20 || hours < 6\n            ? imagesByWeather[weather].night\n            : imagesByWeather[weather].day;\n      } else {\n        iconUrl = imagesByWeather.default.day;\n      }\n\n      // Обновляем содержимое страницы с помощью полученных данных\n      const weatherCardContainer = document.getElementById(\n        'weather-card-container'\n      );\n\n      const currentDate = new Date();\n      const weekday = currentDate.toLocaleDateString('en-US', {\n        weekday: 'short',\n      });\n      const year = currentDate.getFullYear();\n      const month = currentDate.toLocaleDateString('en-US', {\n        month: 'short',\n      });\n      const day = currentDate.toLocaleDateString('en-US', {\n        day: 'numeric',\n      });\n\n      weatherCardContainer.innerHTML = `\n          <div class=\"weather__header \">\n              <i class=\"weather__temperature\">${temperature}</i>\n       \n              <div class=\"weather__description\">\n                  <span class=\"description\">${description}</span>\n                  <div class=\"weather__location\">                             \n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\"><path fill=\"currentColor\" d=\"M16 2A11.013 11.013 0 0 0 5 13a10.889 10.889 0 0 0 2.216 6.6s.3.395.349.452L16 30l8.439-9.953c.044-.053.345-.447.345-.447l.001-.003A10.885 10.885 0 0 0 27 13A11.013 11.013 0 0 0 16 2Zm0 15a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4Z\"/><circle cx=\"16\" cy=\"13\" r=\"4\" fill=\"none\"/></svg>\n                      <p class=\"weather__city\">${city}</p>\n                  </div>  \n              </div>  \n          </div> \n\n            <img class=\"weather__img slide-in-blurred-top\" src=\"${iconUrl}\" alt=\"${description}\">\n\n            <p class=\"current-date\">${weekday}</p>\n            <p class=\"current-date\">${day} ${month} ${year}</p>\n            \n          <div class=\"weather-details\">\n            <div class=\"humidity\">\n              <i class=\"fa-solid fa-water\"></i>\n              <div class=\"text\">\n                  <span>${humidity}</span>\n                  <p>Humidity</p>\n              </div>\n            </div>                \n            <div class=\"wind\">\n                <i class=\"fa-solid fa-wind\"></i>\n                <div class=\"text\">\n                    <span>${wind}</span>\n                    <p>Wind Speed</p>\n                </div>\n            </div>    \n          </div>`;\n    })\n    .catch(error => console.log(error));\n}\n\nfunction getLocation() {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(\n      position => {\n        const { latitude, longitude } = position.coords;\n        getWeatherByCoords(latitude, longitude);\n      },\n      () => {\n        // если пользователь не дал разрешение на геолокацию, показываем погоду для New York\n        const defaultLat = 40.7067188;\n        const defaultLon = -74.0671347;\n        getWeatherByCoords(defaultLat, defaultLon);\n      }\n    );\n  } else {\n    console.log('Geolocation is not supported by this browser.');\n  }\n}\nfunction getLocation() {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(\n      ({ coords: { latitude, longitude } }) => {\n        getWeatherByCoords(latitude, longitude);\n      },\n      () => {\n        const defaultLat = 40.7067188;\n        const defaultLon = -74.0671347;\n        getWeatherByCoords(defaultLat, defaultLon);\n      }\n    );\n  } else {\n    console.log('Geolocation is not supported by this browser.');\n  }\n}\n\ngetLocation();\n"],"names":["$83ee39fa453a4c23$var$getWeatherByCoords","lat","lon","fetch","then","response","json","data","temperature","Math","floor","main","temp","weatherDescr","weather","description","console","log","split","map","word","charAt","toUpperCase","slice","join","city","name","humidity","wind","speed","toFixed","imagesByWeather","Clear","day","night","Rain","Snow","Clouds","Haze","default","iconUrl","hours","Date","getHours","weatherCardContainer","document","getElementById","currentDate","weekday","toLocaleDateString","year","getFullYear","month","innerHTML","catch","error","navigator","geolocation","getCurrentPosition","coords","latitude","longitude"],"version":3,"file":"index.be3e1cb3.js.map"}